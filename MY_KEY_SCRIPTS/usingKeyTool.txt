# tcleyman
# Note usage of JDK 7

1/ hints:
======
** generate keystore + key pair
keytool -genkeypair -alias tom -keyalg RSA -keystore keystore.jks -keysize 2048

** generate self signed
keytool -v -genkeypair -alias tom -dname "CN=tom, OU=Support, O=Oracle, L=Vilvoorde, ST=Brussels, C=SU" -keyalg RSA -keysize 2048 -validity 560 -keystore tcleyman.JKS -storepass Oracle1234
 
** in case of keyexception, try to change alias
keytool -changealias -alias "test" -destalias "sr3_10097319781" -keypass Oracle1234 -keystore SR3_10097319781.JKS -storepass Oracle1234
keytool -changealias -alias "sr3_10097319781" -destalias "test" -keypass Oracle1234 -keystore SR3_10097319781.JKS -storepass Oracle1234

Normal Self signed
--------
1. Generate normal self signed
keytool -v -genkeypair -alias tom -dname "CN=tom, OU=Support, O=Oracle, L=Vilvoorde, ST=Brussels, C=SU" -keyalg RSA -keysize 2048 -validity 560 -keystore tcleyman.JKS -storepass Oracle1234

keytool -list -v -keystore tcleyman.JKS -storepass Oracle1234
#Your keystore contains 1 entry
#Entry type: PrivateKeyEntry

export certificate:
# pem/crt/cer: base64 encoded
keytool -v -export -alias tom -keystore tcleyman.JKS -rfc -file tcleyman.pem -storepass Oracle1234
# der: binary format
keytool -v -export -alias tom -keystore tcleyman.JKS -file tcleyman.der -storepass Oracle1234

Import the certificate (to have a public one also)

keytool -import -alias tompublic -file tcleyman.pem -keystore tcleyman.JKS -storepass Oracle1234



Wildcard
--------
1. create a new wildcard certificate in the following way:
keytool -genkeypair -alias tom -dname "CN=*.be.oracle.com, OU=Support, O=Oracle, L=Vilvoorde, ST=Brussels, C=SU" -keyalg RSA -validity 560 -keystore tcleyman.JKS -storepass Oracle1234

keytool -list -v -keystore tcleyman.JKS -storepass Oracle1234

export certificate:
keytool -v -export -alias tom -keystore tcleyman.JKS -rfc -file tcleyman.pem -storepass Oracle1234
keytool -v -export -alias tom -keystore tcleyman.JKS -file tcleyman.der -storepass Oracle1234

Import the certificate (to have a public one also)
keytool -import -alias tompublic -file tcleyman.pem -keystore tcleyman.JKS -storepass Oracle1234

DemoIdentity
----------------
keytool -importkeystore -srckeystore $WL_HOME/server/lib/DemoIdentity.jks -srcstorepass DemoIdentityKeyStorePassPhrase -srcalias demoidentity -srckeypass DemoIdentityPassPhrase -destkeystore $WL_HOME/server/lib/test.jks -deststorepass welcome -destalias demoidentity -destkeypass welcome

2.2. also copy to SMB (for java program)
keytool -importkeystore -srckeystore $WL_HOME/server/lib/DemoIdentity.jks -srcstorepass DemoIdentityKeyStorePassPhrase -srcalias demoidentity -srckeypass DemoIdentityPassPhrase -destkeystore /u01/test.jks -deststorepass welcome -destalias demoidentity -destkeypass welcome
cp $WL_HOME/server/lib/CertGenCA.der /u01/CertGenCA.der
cp $WL_HOME/server/lib/DemoTrust.jks /u01/DemoTrust.jks

2.3. confirm the CN:
keytool -list -v -keystore  /u01/test.jks -storepass welcome